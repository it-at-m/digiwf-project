__NUXT_JSONP__("/de/resources/documentation/concept/filehandling", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y){return {data:[{article:{slug:"filehandling",description:"Wie können (große und kleine) Dateien auf der Prozessplattform verwaltet werden?",title:B,category:k,categoryIcon:l,position:w,toc:[{id:C,depth:D,text:E},{id:F,depth:w,text:G},{id:H,depth:w,text:I},{id:J,depth:D,text:K},{id:L,depth:w,text:M}],body:{type:"root",children:[{type:b,tag:x,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Der Umgang mit Dateien stellt eine Prozess- und Integrationsplattform naturgemäß vor Herausforderungen. Dateien\nkönnen sehr groß sein, oder in großer Anzahl auftreten und stellen somit ein potenzielles Ressourcenproblem dar.\nDeshalb werden bei DigiWf grundsätzlich keine Dateien in den Speicher geladen oder durch Prozess geschleift. Das\nFile Handling findet in den Integrations Layern (entweder GUI oder Backend statt)."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:"Es sind die drei Schichten GUI Integration, DigiWF Core und Application Integration Layer dargestellt. \nDort ist eingezeichnet, dass nur in den beiden Integrationsschichten File Handling stattfindet.",contain:h,"max-width":p,src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_file_handling_in_integration_layers.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_file_handling_in_integration_layers.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei Handling in den beiden Integrationsschichten"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ein grundlegendes Element bei der Behandlung von Dateien (unabhängig davon, ob sie über die GUI oder angebundene\nBackend Komponenten in das System gelangen) ist der Datei Speicher. Im Fall von DigiWF ist das ein "},{type:b,tag:d,props:{},children:[{type:a,value:"S3-Service"}]},{type:a,value:".\nHier kann eine Cloudlösung wie AWS oder ein on prem Dienst verwendet werden. Die Kommunikation mit dem Dienst an\nsich wird über eine generisch gültige Schnittstelle abstrahiert."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Grundsätzlich ist es möglich (und bei mehrfacher Nutzung der Plattform empfehlenswert), mehr als einen "},{type:b,tag:d,props:{},children:[{type:a,value:q}]},{type:a,value:"\nals Dateispeicher bereitzustellen. Allerdings nicht im selben "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" - hier gibt es eine 1:1 Beziehung zwischen\nService und "},{type:b,tag:d,props:{},children:[{type:a,value:q}]},{type:a,value:". Trotzdem kann - je nach\nFachlichkeit - hier nach Domäne, Prozess oder\nAbteilung ein eigener "},{type:b,tag:d,props:{},children:[{type:a,value:"S3  Bucket"}]},{type:a,value:" mit einem eigenen "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" an die Plattform angebunden werden. Das heißt bei einer größeren Installation\n(beispielsweise Unternehmensweit) wird man in der Regel n "},{type:b,tag:d,props:{},children:[{type:a,value:"S3 Services"}]},{type:a,value:" angebunden haben."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:x,props:{},children:[{type:a,value:c},{type:b,tag:N,props:{id:C},children:[{type:b,tag:g,props:{href:"#datei-handling-im-application-integration-layer",ariaHidden:r,tabIndex:s},children:[{type:b,tag:t,props:{className:[u,v]},children:[]}]},{type:a,value:E}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Klassische Fälle, in denen Dateien im "},{type:b,tag:d,props:{},children:[{type:a,value:"Application Integration Layer"}]},{type:a,value:" behandelt werden müssen, sind:"}]},{type:a,value:c},{type:b,tag:O,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"E-Mail (mit Anhängen)"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Datei und Aktenablage in einem Document Management System"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Erzeugen von Dateien, wie beispielsweise PDF Generierung"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:F},children:[{type:b,tag:g,props:{href:"#eingehende-dateien",ariaHidden:r,tabIndex:s},children:[{type:b,tag:t,props:{className:[u,v]},children:[]}]},{type:a,value:G}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:"Es wird gezeigt, wie die Datei Behandlung bei eingehenden Dateien funktioniert.",contain:h,"max-width":p,src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_incoming_files.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_incoming_files.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei Handling bei eingehenden Dateien"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"In der Abbildung oben ist zu sehen, wie mit eingehenden Dateien umgegangen wird."}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Eine Datei wird erzeugt oder von außen empfangen."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Um die Dateien zu speichern, wird eine "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:" "},{type:b,tag:"sup",props:{id:"fnref-1"},children:[{type:b,tag:g,props:{href:"#fn-1",className:["footnote-ref"]},children:[{type:a,value:"1"}]}]},{type:a,value:P},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" für die Speicherung abgefragt und\nerzeugt. Eine "},{type:b,tag:d,props:{},children:[{type:a,value:"presigned  URL"}]},{type:a,value:" ist eine zeitlich begrenzt gültige URL, für eine bestimmte Operation (z.B. "},{type:b,tag:d,props:{},children:[{type:a,value:"POST"}]},{type:a,value:", "},{type:b,tag:d,props:{},children:[{type:a,value:"PUT"}]},{type:a,value:", usw.) die verwendet\nwerden kann um Dateien direkt an einen "},{type:b,tag:d,props:{},children:[{type:a,value:q}]},{type:a,value:"zu schicken, ohne eingeloggt sein zu müssen. Wie lange eine solche URL gültig kann eingestellt werden. Für den\nhier dargestellten Anwendungsfall funktionieren auch sehr kurze Gültigkeitszeiträume, da es sich hier um eine\nrein maschinelle Verarbeitung handelt. Zusätzlich zur URL wird an dieser Stelle noch eine Referenz- oder Datei ID\nerzeugt und zurückgegeben."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Mit der URL wird die Datei nun direkt in den S3 Speicher geschrieben. Das geht ohne Umweg über einen weiteren\nService."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Die Datei Referenz wird über den "},{type:b,tag:d,props:{},children:[{type:a,value:A}]},{type:a,value:" an den Prozess übergeben. Ab dieser Stelle ist der Prozess dafür\nverantwortlich diese Datei ID sorgsam aufzubewahren, denn nur mit dieser Referenz kann man die Datei noch über\nden "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" finden und entsprechend laden."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:z,props:{id:H},children:[{type:b,tag:g,props:{href:"#ausgehende-dateien",ariaHidden:r,tabIndex:s},children:[{type:b,tag:t,props:{className:[u,v]},children:[]}]},{type:a,value:I}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:"Es wird gezeigt, wie die Datei Behandlung bei ausgehenden Dateien funktioniert.",contain:h,"max-width":p,src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_outgoing_files.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_outgoing_files.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei Handling bei ausgehenden Dateien"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"In der Abbildung oben ist zu sehen, wie mit ausgehenden Dateien umgegangen wird."}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Grundvoraussetzung um eine Datei (oder einen ganzen Ordner) aus dem "},{type:b,tag:d,props:{},children:[{type:a,value:q}]},{type:a,value:" zu holen ist die Referenz- oder\nDatei ID. Will man mehrere\nDateien \u002F Ordner laden - und beispielsweise an eine E-Mail anhängen - so werden auch entsprechend viele Referenz IDs\nbenötigt. D.h. die Kardinalität zwischen Datei \u002F Ordner und Referenz ID ist immer 1:1."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Mit der Referenz ID kann am "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" eine "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:" für die Operation "},{type:b,tag:d,props:{},children:[{type:a,value:"GET"}]},{type:a,value:" erfragt werden. Auch hier\ngilt - für jede Datei wird eine eigene "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:" benötigt."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Mit der "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:" kann wiederum die Datei direkt aus dem "},{type:b,tag:d,props:{},children:[{type:a,value:q}]},{type:a,value:" geladen werden."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Die Datei(en) werden an die Mail gehängt und verschickt."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"v-alert",props:{color:"red darken-1",border:"left",elevation:"2","colored-border":h,icon:"mdi-robot-angry"},children:[{type:a,value:"\nEs ist übrigends davon abzuraten, eine presigned URL direkt heraus zu geben (beispielsweise per Mail zu \nverschicken). Wie oben beschrieben ist eine solche URL nur eine bestimmte Zeit gültig. D.h. wenn dieser Zeitraum \nabgelaufen ist, dann kann über die URL nicht mehr auf die Datei zugegriffen werden. Wenn dann auch noch die \nProzessinstanz beendet wurde, hat man auch nicht mehr so einfach Zugriff auf die Referenz ID.\n"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:x,props:{},children:[{type:a,value:c},{type:b,tag:N,props:{id:J},children:[{type:b,tag:g,props:{href:"#datei-handling-im-gui-integration-layer",ariaHidden:r,tabIndex:s},children:[{type:b,tag:t,props:{className:[u,v]},children:[]}]},{type:a,value:K}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Dateien kommen natürlich nicht nur aus angebundenen Verfahren, sondern können auch über die grafische\nBenutzeroberfläche ins System gelangen. Auch hier wird das Filehandling über den S3 Service abgewickelt. Wichtig ist\nhierbei, dass die Kommunikation nicht - wie bei den Integrationsartefakten - über den "},{type:b,tag:d,props:{},children:[{type:a,value:A}]},{type:a,value:" erfolgt, sondern\nper "},{type:b,tag:d,props:{},children:[{type:a,value:"REST"}]},{type:a,value:" Aufruf, da die Oberflächenkomponenten keinen direkten Zugang zum "},{type:b,tag:d,props:{},children:[{type:a,value:A}]},{type:a,value:" haben."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:Q,contain:h,"max-width":p,src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_frontend_save_file.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_frontend_save_file.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei(en) aus dem Frontend heraus speichern."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Hier wird beschrieben, wie aus der Formularkomponente "},{type:b,tag:d,props:{},children:[{type:a,value:R}]},{type:a,value:" heraus eine Datei gespeichert wird. Der\nWeg ist aber prinzipiell auch für eigene Formulare oder andere Oberflächen nutzbar."}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Es wird eine "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:P},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" angefragt. Dazu werden folgende Parameter übergeben:\n"},{type:b,tag:O,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{},children:[{type:a,value:"refID"}]},{type:a,value:" Die Referenz, unter der die Datei später abgerufen werden kann"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{},children:[{type:a,value:"filename"}]},{type:a,value:" Der Name der Datei, die gespeichert werden soll."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{},children:[{type:a,value:"endOfLife"}]},{type:a,value:" Es kann ein Löschdatum mitgegeben werden. Zu diesem Zeitpunkt wird die Datei dann automatisch aus\ndem S3 Speicher gelöscht. Das ist vor allem dann sinnvoll, wenn Daten nur eine bestimmte Zeit aufbewahrt werden\ndürfen."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:d,props:{},children:[{type:a,value:"expiredInMinutes"}]},{type:a,value:" Die Zeitspanne in Minuten, für die der Link gültig ist. Nach ablauf dieser Zeit kann er\nnicht mehr verwendet werden."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Der "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" erzeugt über den S3 Storage eine entsprechende "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:". Was dort genau passiert, ist im\nSequenzdiagramm unten ersichtlich. Diese URL wird an das "},{type:b,tag:d,props:{},children:[{type:a,value:R}]},{type:a,value:"zurückgegeben."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Über die "},{type:b,tag:d,props:{},children:[{type:a,value:j}]},{type:a,value:" kann nun die Oberflächenkomponente die Datei direkt an den S3 Storage übergeben."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Wenn man mehr als eine Datei speichern will, so muss dieser Vorgang natürlich entsprechend oft wiederholt werden."}]},{type:a,value:c},{type:b,tag:z,props:{id:L},children:[{type:b,tag:g,props:{href:"#authorization-beim-umgang-mit-dateien-aus-dem-frontend",ariaHidden:r,tabIndex:s},children:[{type:b,tag:t,props:{className:[u,v]},children:[]}]},{type:a,value:M}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Während in der Integrationsschicht relativ klar ist, wer auf welche Datei zugreifen kann, ist dies im Frontend\ndeutlich schwieriger zu entscheiden, da hier potenziell erst einmal jeder auf die Schnittstelle zugreifen kann."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:Q,contain:h,"max-width":p,src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_save_file_sequence_diagram.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_save_file_sequence_diagram.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei(en) aus dem Frontend heraus speichern - detaillierte Ansicht."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{alt:"Es wird gezeigt, wie das Speichern von Dateien aus dem Frontend heraus funktioniert (Sequenzdiagramm).",contain:h,"max-width":"926",src:"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fdigiwf_load_file_sequence_diagram.png","lazy-src":"images\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling\u002Fpreview_digiwf_load_file_sequence_diagram.png"},children:[]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:"Datei(en) aus dem Frontend heraus laden - detaillierte Ansicht."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:x,props:{},children:[{type:a,value:c}]},{type:a,value:c},{type:b,tag:"div",props:{className:["footnotes"]},children:[{type:a,value:c},{type:b,tag:"hr",props:{},children:[]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{id:"fn-1"},children:[{type:a,value:"siehe "},{type:b,tag:g,props:{href:S,rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:S}]},{type:b,tag:g,props:{href:"#fnref-1",className:["footnote-backref"]},children:[{type:a,value:"↩"}]}]},{type:a,value:c}]},{type:a,value:c}]}]},dir:"\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept",path:T,extension:".md",createdAt:U,updatedAt:U},navigation:[{title:"DigiWF Architektur Übersicht",category:k,categoryIcon:l,path:"\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept\u002Foverview"},{title:V,category:k,categoryIcon:l,path:W},{title:B,category:k,categoryIcon:l,path:T},{title:X,category:k,categoryIcon:l,path:Y},{title:"Event Bus Topics",category:k,categoryIcon:l,path:"\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept\u002Feventbustopics"}],prev:{title:V,path:W},next:{title:X,path:Y}}],fetch:{},mutations:void 0}}("text","element","\n","code","li","p","a","","S3 Service","presigned URL","Konzept","mdi-floor-plan","figure","v-img","figcaption","960","S3 Bucket","true",-1,"span","icon","icon-link",3,"section","ol","h3","Event Bus","Umgang mit Dateien","datei-handling-im-application-integration-layer",2,"Datei Handling im Application Integration Layer","eingehende-dateien","Eingehende Dateien","ausgehende-dateien","Ausgehende Dateien","datei-handling-im-gui-integration-layer","Datei Handling im GUI Integration Layer","authorization-beim-umgang-mit-dateien-aus-dem-frontend","Authorization beim Umgang mit Dateien aus dem Frontend","h2","ul"," am ","Es wird gezeigt, wie das Speichern von Dateien aus dem Frontend heraus funktioniert.","File Upload Control","https:\u002F\u002Fdocs.aws.amazon.com\u002FAmazonS3\u002Flatest\u002Fuserguide\u002Fusing-presigned-url.html","\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept\u002Ffilehandling","2022-07-25T06:48:43.690Z","System Integration","\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept\u002Fintegration","Co-Creation","\u002Fde\u002Fresources\u002Fdocumentation\u002Fconcept\u002Fselfservice")));